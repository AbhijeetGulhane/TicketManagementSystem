<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="ISO-8859-1">
    <title>Create Ticket</title>
    <link rel="stylesheet" type="text/css" href="/webjars/bootstrap/css/bootstrap.min.css" />
	<style>
		table, th, td {
		  border: 1px solid black;
		  border-collapse: collapse;
		}
		
		table.center {
		  margin-left: auto; 
		  margin-right: auto;
		}
	</style>
</head>
<body>
<div class="container text-center">
	<h2><a th:href="@{/}">Ticket Management System</a></h2><br>
	<h3>Create New Department</h3>
	<br>
	
	<form  th:action="@{/saveDepartment}" th:object="${department}" method="post"
		style="max-width: 600px; margin: 0 auto;">
	<input type="hidden" th:field="*{deptid}" /> 
	<div class="m-3">
		<div class="form-group row">
			<label class="col-form-label col-sm-4">Department Name: </label>
			<div class="col-sm-8" >
				<input type="text" th:field="*{name}" th:value="*{name}" name="name" class="form-control" required/>
			</div>
		</div>
		<div class="form-group row">
			<label class="col-form-label col-sm-4">Sub Department Name: </label>
			<div class="col-sm-8" >
				<input type="text" th:field="*{subDepartment}" th:value="*{subDepartment}" name="subDepartment" class="form-control" required/>
			</div>
		</div>
		<div class="form-group row">
			<label class="col-form-label col-sm-4">Access level: </label>
			<div class="col-sm-8" >
				<!-- <input type="text" field="*{accesslevel}" name="accesslevel" class="form-control" required/> -->
				<select field="*{accesslevel}" th:value="*{accesslevel}" name="accesslevel" id="acceslevel">
					<option value=1>User</option>
					<option value=2>Engineer</option>
					<option value=3>Admin</option>
				</select> 
			</div>
		</div>
		<div class="text-center p-3">
			<button type="submit" class="btn btn-primary">Save</button>
		</div>
	</div>
	</form>
	
	<br><br>
	<div class="container text-center">
		<h3>List of Departments (JSON)</h3>
		<table border="1" class="center">
			<thead>
				<tr>
				<th>Id</th>
				<th>Name</th>
				<th>Sub-Department</th>
				<th>Access level </th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="Dept: ${ListDepartments}">
				<td th:text="${Dept.deptid}"></td>
				<td th:text="${Dept.name}"></td>
				<td th:text="${Dept.subDepartment}"></td>
				<td th:text="${Dept.accesslevel}"></td>
				</tr>
			</tbody>
		</table>
	</div>
</div>
</body>
</html>